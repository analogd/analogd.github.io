{
  "tabs": [
    {
      "id": "parameters",
      "title": "T-S Parameters",
      "sections": [
        {
          "type": "parameter",
          "name": "Fs (Hz) - Resonance Frequency",
          "description": "The natural resonant frequency of the driver in free air. Lower Fs typically means better low-frequency extension.",
          "specSheet": "\"Fs\", \"Resonant Frequency\", \"Free-Air Resonance\""
        },
        {
          "type": "parameter",
          "name": "Qts - Total Q",
          "description": "Measure of driver damping. Combines electrical and mechanical damping. Typical range: 0.3-0.7.",
          "specSheet": "\"Qts\", \"Total Q Factor\"",
          "details": [
            "Low Qts (<0.4): Better for ported boxes, tighter bass",
            "Medium Qts (0.4-0.6): Versatile, works in sealed or ported",
            "High Qts (>0.6): Best for sealed boxes, boomy in ported"
          ]
        },
        {
          "type": "parameter",
          "name": "Vas (L) - Equivalent Compliance Volume",
          "description": "Volume of air with same compliance as the driver's suspension. Larger Vas = larger box needed.",
          "specSheet": "\"Vas\" (may be in liters, cubic feet, or cubic meters - convert to liters)",
          "conversion": "1 cu.ft = 28.3 L | 1 cu.m = 1000 L"
        },
        {
          "type": "parameter",
          "name": "Re (Ω) - DC Resistance",
          "description": "Voice coil DC resistance. Usually slightly less than nominal impedance (e.g., 6.8Ω for an \"8Ω\" driver).",
          "specSheet": "\"Re\", \"DC Resistance\", \"DCR\""
        },
        {
          "type": "parameter",
          "name": "Le (mH) - Voice Coil Inductance",
          "description": "Voice coil inductance in millihenries. Affects high-frequency response and impedance rise.",
          "specSheet": "\"Le\", \"Voice Coil Inductance\" (convert to mH if needed)"
        },
        {
          "type": "parameter",
          "name": "Xmax (mm) - Linear Excursion",
          "description": "Maximum one-way linear excursion before distortion increases. Critical for SPL and power handling.",
          "specSheet": "\"Xmax\", \"Linear Excursion\", \"One-Way Linear Throw\"",
          "conversion": "Peak-to-peak excursion = Xmax × 2"
        },
        {
          "type": "parameter",
          "name": "Sd (cm²) - Effective Piston Area",
          "description": "Effective radiating area of the cone. Larger area = more output at low frequencies.",
          "specSheet": "\"Sd\", \"Effective Piston Area\", sometimes calculated from diameter",
          "conversion": "For diameter D (cm): Sd ≈ π × (D/2)²"
        },
        {
          "type": "parameter",
          "name": "Pe (W) - Power Handling",
          "description": "Thermal power rating in watts (RMS/continuous, not peak). Used for SPL estimation.",
          "specSheet": "\"Power Handling\", \"RMS Power\", \"Continuous Power\", \"Pe\"",
          "warning": "Use RMS/continuous rating, NOT peak power!"
        }
      ]
    },
    {
      "id": "mapping",
      "title": "Spec Sheet Mapping",
      "sections": [
        {
          "type": "intro",
          "content": "Mapping Spec Sheets to Input Fields"
        },
        {
          "type": "example",
          "title": "Example: Dayton Audio UM18-22 Spec Sheet",
          "mapping": [
            {"spec": "Fs", "value": "20.7 Hz", "field": "Fs (Hz)", "note": "Direct mapping"},
            {"spec": "Qts", "value": "0.46", "field": "Qts", "note": "Direct mapping"},
            {"spec": "Vas", "value": "8.15 cu.ft", "field": "Vas (L)", "note": "Convert: 8.15 × 28.3 = 230.7 L"},
            {"spec": "Re", "value": "3.0 Ω", "field": "Re (Ω)", "note": "Direct mapping"},
            {"spec": "Le", "value": "2.8 mH", "field": "Le (mH)", "note": "Direct mapping"},
            {"spec": "Xmax", "value": "28 mm", "field": "Xmax (mm)", "note": "Direct mapping"},
            {"spec": "Sd", "value": "850 cm²", "field": "Sd (cm²)", "note": "Direct mapping"},
            {"spec": "Power Handling", "value": "1000W RMS", "field": "Pe (W)", "note": "Use RMS, not peak"}
          ]
        },
        {
          "type": "conversions",
          "title": "Common Conversions",
          "items": [
            "Volume: 1 cu.ft = 28.317 L | 1 cu.in = 0.0164 L",
            "Area: 1 sq.in = 6.452 cm²",
            "Inductance: Usually already in mH on spec sheets",
            "Diameter to Sd: For 18\" driver (45.7cm): Sd ≈ π × (45.7/2)² ≈ 1640 cm²"
          ]
        },
        {
          "type": "warnings",
          "title": "Common Mistakes",
          "items": [
            "Using peak power instead of RMS power for Pe",
            "Forgetting to convert cubic feet to liters for Vas",
            "Confusing Qts with Qes or Qms (you want Qts)",
            "Using nominal impedance instead of Re (Re is lower)"
          ]
        }
      ]
    },
    {
      "id": "relationships",
      "title": "Parameter Relationships",
      "sections": [
        {
          "type": "intro",
          "content": "Some parameters can be calculated from others. This helps when spec sheets are incomplete or when you need to verify published values."
        },
        {
          "type": "formula",
          "title": "Qts - Total Q Factor",
          "formula": "Qts = (Qes × Qms) / (Qes + Qms)",
          "description": "Qts combines electrical damping (Qes) and mechanical damping (Qms).",
          "example": "If Qes = 0.51 and Qms = 4.01, then Qts = (0.51 × 4.01) / (0.51 + 4.01) = 0.45"
        },
        {
          "type": "formula",
          "title": "Sd - Effective Piston Area",
          "formula": "Sd = π × (D / 2)²",
          "description": "Calculate from effective diameter (cone + half surround).",
          "example": "18\" driver with 45.7cm effective diameter: Sd = π × (45.7/2)² ≈ 1641 cm²",
          "reference": [
            "10\" driver: ~23 cm → Sd ≈ 415 cm²",
            "12\" driver: ~28 cm → Sd ≈ 615 cm²",
            "15\" driver: ~36 cm → Sd ≈ 1020 cm²",
            "18\" driver: ~45 cm → Sd ≈ 1590 cm²"
          ]
        },
        {
          "type": "formula",
          "title": "VD - Maximum Linear Displacement Volume",
          "formula": "VD = Sd × Xmax",
          "description": "Maximum air volume the driver can displace linearly. Higher VD = more low-frequency output.",
          "example": "UM18-22 with Sd = 850 cm² and Xmax = 28mm: VD = 850 × 28 = 23,800 cm³",
          "note": "Good subwoofers: VD > 200 cm³ (12\"), > 500 cm³ (15\"), > 1000 cm³ (18\")"
        },
        {
          "type": "formula",
          "title": "EBP - Efficiency Bandwidth Product",
          "formula": "EBP = Fs / Qes",
          "description": "Helps determine optimal enclosure type.",
          "guide": [
            "EBP < 50: Best for sealed boxes",
            "EBP 50-100: Works in either sealed or ported",
            "EBP > 100: Best for ported/vented boxes"
          ],
          "example": "UM18-22 with Fs = 20.7 Hz and Qes = 0.51: EBP = 40.6 (sealed candidate)"
        },
        {
          "type": "formula",
          "title": "Sensitivity Estimation",
          "formula": "Sensitivity ≈ 112 + 10 × log₁₀(Fs³ × Vas)",
          "description": "Rough approximation for sealed box reference efficiency.",
          "warning": "Simplified estimate. Actual sensitivity depends on BL, Mms, etc."
        },
        {
          "type": "formula",
          "title": "Maximum SPL Estimation",
          "formula": "Max SPL ≈ Sensitivity + 10 × log₁₀(Pe) + 10 × log₁₀(VD/100)",
          "description": "Very rough estimate of maximum output capability.",
          "warning": "Real-world SPL depends on enclosure, room acoustics, excursion limits, thermal compression."
        },
        {
          "type": "formula",
          "title": "Sealed Box Relationships",
          "formula": "Qtc = Qts × √(1 + Vas/Vb) | Fc = Fs × √(1 + Vas/Vb)",
          "description": "How box volume affects system tuning. Smaller box → higher Qtc and Fc."
        },
        {
          "type": "formula",
          "title": "Port Tuning",
          "formula": "Lv = (23562.5 × Dv²) / (Vb × Fb²) - 0.732 × Dv",
          "description": "Calculate port length for round port. Lv = length (cm), Dv = diameter (cm), Vb = volume (L), Fb = tuning (Hz)"
        },
        {
          "type": "tips",
          "title": "Practical Tips",
          "items": [
            "If spec sheet only lists Qes and Qms, calculate Qts yourself",
            "If Sd is missing, calculate from driver diameter",
            "Always calculate VD to assess subwoofer capability",
            "Use EBP as quick guide for enclosure type selection",
            "Verify published Qts matches calculated value as sanity check"
          ]
        }
      ]
    },
    {
      "id": "boxes",
      "title": "Box Types",
      "sections": [
        {
          "type": "boxtype",
          "name": "Sealed Box",
          "description": "Simplest design. Driver mounted in sealed, airtight enclosure.",
          "pros": [
            "Simple construction",
            "Predictable response",
            "Good transient response",
            "Smaller than ported for deep bass extension",
            "12dB/octave rolloff below resonance"
          ],
          "cons": [
            "Lower efficiency than ported",
            "Less maximum output"
          ],
          "bestFor": "High Qts drivers (0.5-0.7), tight accurate bass, home theater"
        },
        {
          "type": "boxtype",
          "name": "Ported (Vented/Bass Reflex)",
          "description": "Enclosure with a port (tube or slot) tuned to specific frequency.",
          "pros": [
            "Higher efficiency near tuning frequency",
            "More maximum output",
            "Extended bass response in smaller box"
          ],
          "cons": [
            "Steeper rolloff below tuning (24dB/octave)",
            "More complex construction",
            "Port noise if undersized",
            "Group delay increases near tuning"
          ],
          "bestFor": "Low Qts drivers (0.3-0.5), maximum SPL, PA/car audio"
        },
        {
          "type": "boxtype",
          "name": "Bandpass",
          "description": "Driver mounted between two chambers, one sealed and one ported.",
          "pros": [
            "Very high output in narrow frequency band",
            "Driver protected from damage"
          ],
          "cons": [
            "Complex design and tuning",
            "Limited bandwidth",
            "Poor transient response"
          ],
          "bestFor": "Competition SPL, extreme output applications",
          "note": "Not yet implemented in calculator"
        }
      ]
    },
    {
      "id": "alignments",
      "title": "Alignments",
      "sections": [
        {
          "type": "alignment-group",
          "category": "Sealed Box Alignments",
          "alignments": [
            {
              "name": "Butterworth (B2) - Qtc = 0.707",
              "description": "Maximally flat frequency response. Most common alignment.",
              "features": [
                "Flat response to F3 (-3dB point)",
                "Good balance of size and response",
                "F3 ≈ 1.25 × Fs"
              ]
            },
            {
              "name": "Bessel (B1) - Qtc = 0.577",
              "description": "Optimized for transient response.",
              "features": [
                "Best time-domain performance",
                "Slight bass rolloff",
                "Larger box needed",
                "Preferred for critical listening"
              ]
            },
            {
              "name": "Chebyshev - Qtc = 1.0",
              "description": "Small box with slight bass boost.",
              "features": [
                "Smallest sealed box",
                "~3dB peak before rolloff",
                "Less controlled bass",
                "Good for car audio"
              ]
            }
          ]
        },
        {
          "type": "alignment-group",
          "category": "Ported Box Alignments",
          "alignments": [
            {
              "name": "QB3 (Quasi-Butterworth 3rd order)",
              "description": "Fb = Fs, moderate box size.",
              "features": [
                "Smooth response",
                "Good compromise",
                "Medium box size"
              ]
            },
            {
              "name": "SC4 (Sub-Chebyshev 4th order)",
              "description": "Fb = 0.7 × Fs, extended bass.",
              "features": [
                "Extended low frequency response",
                "Larger box required",
                "Good for home theater"
              ]
            },
            {
              "name": "C4 (Chebyshev 4th order)",
              "description": "Fb = 0.8 × Fs, balanced response.",
              "features": [
                "Good balance of size and extension",
                "Slight bass boost",
                "Popular general-purpose alignment"
              ]
            }
          ]
        },
        {
          "type": "guide",
          "title": "Choosing an Alignment",
          "sealed": "Start with Butterworth (0.707) for most applications. Use Bessel for critical listening, Chebyshev for space-constrained builds.",
          "ported": "QB3 for general use, SC4 for maximum extension (if you have space), C4 as middle ground."
        }
      ]
    },
    {
      "id": "box-sizes",
      "title": "Box Size Guide",
      "sections": [
        {
          "type": "intro",
          "content": "Understanding typical box sizes helps with planning and expectations. Boxes vary significantly based on driver parameters and alignment choice."
        },
        {
          "type": "size-table",
          "title": "Typical Box Volumes by Driver Size",
          "description": "These are approximate ranges for common subwoofer drivers in sealed boxes:",
          "sizes": [
            {
              "driver": "10\" (25cm)",
              "sealed": "15-40 L (0.5-1.4 cu.ft)",
              "ported": "30-70 L (1.1-2.5 cu.ft)",
              "example": "Compact car trunk, small room corner"
            },
            {
              "driver": "12\" (30cm)",
              "sealed": "30-80 L (1.1-2.8 cu.ft)",
              "ported": "60-150 L (2.1-5.3 cu.ft)",
              "example": "Car trunk, under desk, closet"
            },
            {
              "driver": "15\" (38cm)",
              "sealed": "60-150 L (2.1-5.3 cu.ft)",
              "ported": "120-280 L (4.2-9.9 cu.ft)",
              "example": "Corner of room, large furniture piece"
            },
            {
              "driver": "18\" (46cm)",
              "sealed": "100-250 L (3.5-8.8 cu.ft)",
              "ported": "200-500 L (7.1-17.7 cu.ft)",
              "example": "Dedicated space, similar to washing machine"
            },
            {
              "driver": "21\" (53cm)",
              "sealed": "200-400 L (7.1-14.1 cu.ft)",
              "ported": "400-800 L (14.1-28.3 cu.ft)",
              "example": "Very large, refrigerator-sized or bigger"
            }
          ]
        },
        {
          "type": "size-comparison",
          "title": "Visual Size References",
          "comparisons": [
            {
              "volume": "30L (1.1 cu.ft)",
              "dimensions": "30cm × 30cm × 35cm (12\" × 12\" × 14\")",
              "reference": "Small microwave oven"
            },
            {
              "volume": "60L (2.1 cu.ft)",
              "dimensions": "40cm × 40cm × 38cm (16\" × 16\" × 15\")",
              "reference": "Compact dishwasher"
            },
            {
              "volume": "150L (5.3 cu.ft)",
              "dimensions": "50cm × 50cm × 60cm (20\" × 20\" × 24\")",
              "reference": "Mini fridge"
            },
            {
              "volume": "300L (10.6 cu.ft)",
              "dimensions": "60cm × 60cm × 85cm (24\" × 24\" × 33\")",
              "reference": "Standard refrigerator (single door)"
            }
          ]
        },
        {
          "type": "alignment-impact",
          "title": "How Alignment Affects Box Size",
          "description": "Different alignments require different box volumes for the same driver:",
          "impacts": [
            {
              "alignment": "Bessel (Qtc=0.577)",
              "size": "Smallest sealed box",
              "tradeoff": "Higher F3, less low-frequency extension"
            },
            {
              "alignment": "Butterworth (Qtc=0.707)",
              "size": "Medium sealed box (recommended starting point)",
              "tradeoff": "Good balance of size and extension"
            },
            {
              "alignment": "Chebyshev (Qtc=1.0)",
              "size": "Largest sealed box",
              "tradeoff": "Lowest F3, slight bass hump, needs most space"
            },
            {
              "alignment": "Ported (general)",
              "size": "2-3× larger than sealed",
              "tradeoff": "Better efficiency and lower extension, but much bigger"
            }
          ]
        },
        {
          "type": "tips",
          "title": "Planning Tips",
          "tips": [
            "Measure your available space before selecting driver and alignment",
            "Sealed boxes are more forgiving of volume errors (±10% usually OK)",
            "Ported boxes are more sensitive to volume accuracy (±5% recommended)",
            "Remember to account for driver displacement and internal bracing (adds ~10-15% to external volume)",
            "Corner placement provides 6-12 dB of room gain below 100Hz (effectively free boost)",
            "Larger boxes are generally more efficient but take more space and materials"
          ]
        }
      ]
    }
  ]
}
